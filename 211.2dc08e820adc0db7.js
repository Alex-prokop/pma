"use strict";(self.webpackChunkproject_management_system=self.webpackChunkproject_management_system||[]).push([[211],{4211:(B,m,s)=>{s.r(m),s.d(m,{AccountModule:()=>G});var r=s(6223),u=s(6814),a=s(9987),n=s(5879),p=s(6434);let v=(()=>{class t{constructor(e,o){this.router=e,this.accountService=o,this.accountService.userValue&&this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.F0),n.Y36(p.B))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-layout"]],decls:2,vars:0,consts:[[1,"app-container"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"router-outlet"),n.qZA())},dependencies:[a.lC],styles:[".app-container[_ngcontent-%COMP%]{width:50%;margin:50px auto;padding:20px}"]}),t})();var _=s(1374),x=s(3251),c=s(9515);function h(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VALID LOGIN")," "))}function C(t,i){if(1&t&&(n.TgZ(0,"div",12),n.YNc(1,h,3,3,"div",13),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.f.login.errors?null:e.f.login.errors.required)}}function Z(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VALID PASSWORD")," "))}function b(t,i){if(1&t&&(n.TgZ(0,"div",12),n.YNc(1,Z,3,3,"div",13),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.f.password.errors?null:e.f.password.errors.required)}}function A(t,i){1&t&&n._UZ(0,"div",14)}function S(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VALID NAME")," "))}function O(t,i){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,S,3,3,"div",15),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.required)}}function T(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VALID LOGIN")," "))}function y(t,i){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,T,3,3,"div",15),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.f.login.errors?null:e.f.login.errors.required)}}function I(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VALID PASSWORD")," "))}function q(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"VALID PASSWORD LENGTH")," "))}function P(t,i){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,I,3,3,"div",15),n.YNc(2,q,3,3,"div",15),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.f.password.errors?null:e.f.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==e.f.password.errors?null:e.f.password.errors.minlength)}}function M(t,i){1&t&&n._UZ(0,"span",16)}const d=function(t){return{"input-error":t}},N=[{path:"",component:v,children:[{path:"login",component:(()=>{class t{constructor(e,o,l,g,f){this.formBuilder=e,this.route=o,this.router=l,this.accountService=g,this.alertService=f,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=new r.cw({login:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])})}get f(){return this.form.controls}onSubmit(){if(this.submitted=!0,this.alertService.clear(),this.form.invalid)return;this.loading=!0;const e=this.form.get("login")?.value,o=this.form.get("password")?.value;this.accountService.login(e,o).pipe((0,_.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:l=>{this.alertService.error(l,{autoClose:!0}),this.loading=!1}})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.qu),n.Y36(a.gz),n.Y36(a.F0),n.Y36(p.B),n.Y36(x.c))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:26,vars:17,consts:[[1,"form-card"],[1,"login-header"],[1,"form-content"],[3,"formGroup","ngSubmit"],[1,"input-group"],["type","text","formControlName","login"],["class","error-message",4,"ngIf"],["type","password","formControlName","password","autocomplete","current-password"],[1,"actions"],["type","submit",1,"login-button",3,"disabled"],["class","spinner",4,"ngIf"],["routerLink","../signup"],[1,"error-message"],[4,"ngIf"],[1,"spinner"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3,"Login"),n.qZA()(),n.TgZ(4,"div",2)(5,"form",3),n.NdJ("ngSubmit",function(){return o.onSubmit()}),n.TgZ(6,"div",4)(7,"label"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n._UZ(10,"input",5),n.YNc(11,C,2,1,"div",6),n.qZA(),n.TgZ(12,"div",4)(13,"label"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n._UZ(16,"input",7),n.YNc(17,b,2,1,"div",6),n.qZA(),n.TgZ(18,"div",8)(19,"button",9),n.YNc(20,A,1,0,"div",10),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.TgZ(23,"a",11),n._uU(24),n.ALo(25,"translate"),n.qZA()()()()()),2&e&&(n.xp6(5),n.Q6J("formGroup",o.form),n.xp6(3),n.Oqu(n.lcZ(9,9,"LOGIN")),n.xp6(3),n.Q6J("ngIf",o.submitted&&o.f.login.errors),n.xp6(3),n.Oqu(n.lcZ(15,11,"PASSWORD")),n.xp6(3),n.Q6J("ngIf",o.submitted&&o.f.password.errors),n.xp6(2),n.Q6J("disabled",o.loading),n.xp6(1),n.Q6J("ngIf",o.loading),n.xp6(1),n.hij(" ",n.lcZ(22,13,"LOG IN")," "),n.xp6(3),n.Oqu(n.lcZ(25,15,"SIGN UP")))},dependencies:[u.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.rH,c.X$],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0;margin:0}.form-card[_ngcontent-%COMP%]{border:1px solid #ccc;padding:20px;border-radius:5px;width:300px;box-sizing:border-box;background-color:#fff}.login-header[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:700;margin-bottom:20px}.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #ccc;padding:5px;border-radius:3px}.error-message[_ngcontent-%COMP%]{color:red}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.login-button[_ngcontent-%COMP%]{background-color:#d77e48;color:#fff;padding:10px 20px;border-radius:5px;cursor:pointer}.login-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;border:2px solid rgba(0,0,0,.5);border-left-color:#fff;height:24px;width:24px;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}a[_ngcontent-%COMP%]{color:#d77e48;text-decoration:none}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(1turn)}}"]}),t})()},{path:"signup",component:(()=>{class t{constructor(e,o,l,g,f,D){this.formBuilder=e,this.route=o,this.router=l,this.accountService=g,this.alertService=f,this.translate=D,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({name:["",r.kI.required],login:["",r.kI.required],password:["",[r.kI.required,r.kI.minLength(6)]]}),this.translate.onLangChange.subscribe()}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,_.P)()).subscribe({next:()=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0,autoClose:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:e=>{this.alertService.error(e,{autoClose:!0}),this.loading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.qu),n.Y36(a.gz),n.Y36(a.F0),n.Y36(p.B),n.Y36(x.c),n.Y36(c.sK))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-signup"]],decls:32,vars:33,consts:[[1,"signup-form"],[1,"signup-form__header"],[1,"signup-form__body"],[3,"formGroup","ngSubmit"],[1,"input-field"],[1,"input-field__label"],["type","text","formControlName","name",1,"input-field__input",3,"ngClass"],["class","error-text",4,"ngIf"],["type","text","formControlName","login","autocomplete","username",1,"input-field__input",3,"ngClass"],["type","password","formControlName","password","autocomplete","current-password",1,"input-field__input",3,"ngClass"],[1,"actions"],[1,"actions__submit-button",3,"disabled"],["class","actions__loading-spinner",4,"ngIf"],["routerLink","/welcome-page",1,"actions__cancel-link"],[1,"error-text"],[4,"ngIf"],[1,"actions__loading-spinner"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",2)(5,"form",3),n.NdJ("ngSubmit",function(){return o.onSubmit()}),n.TgZ(6,"div",4)(7,"label",5),n._uU(8),n.ALo(9,"translate"),n.qZA(),n._UZ(10,"input",6),n.YNc(11,O,2,1,"div",7),n.qZA(),n.TgZ(12,"div",4)(13,"label",5),n._uU(14),n.ALo(15,"translate"),n.qZA(),n._UZ(16,"input",8),n.YNc(17,y,2,1,"div",7),n.qZA(),n.TgZ(18,"div",4)(19,"label",5),n._uU(20),n.ALo(21,"translate"),n.qZA(),n._UZ(22,"input",9),n.YNc(23,P,3,2,"div",7),n.qZA(),n.TgZ(24,"div",10)(25,"button",11),n.YNc(26,M,1,0,"span",12),n._uU(27),n.ALo(28,"translate"),n.qZA(),n.TgZ(29,"a",13),n._uU(30),n.ALo(31,"translate"),n.qZA()()()()()),2&e&&(n.xp6(2),n.Oqu(n.lcZ(3,15,"SIGN UP")),n.xp6(3),n.Q6J("formGroup",o.form),n.xp6(3),n.Oqu(n.lcZ(9,17,"NAME")),n.xp6(2),n.Q6J("ngClass",n.VKq(27,d,o.submitted&&o.f.name.errors)),n.xp6(1),n.Q6J("ngIf",o.submitted&&o.f.name.errors),n.xp6(3),n.Oqu(n.lcZ(15,19,"LOGIN")),n.xp6(2),n.Q6J("ngClass",n.VKq(29,d,o.submitted&&o.f.login.errors)),n.xp6(1),n.Q6J("ngIf",o.submitted&&o.f.login.errors),n.xp6(3),n.Oqu(n.lcZ(21,21,"PASSWORD")),n.xp6(2),n.Q6J("ngClass",n.VKq(31,d,o.submitted&&o.f.password.errors)),n.xp6(1),n.Q6J("ngIf",o.submitted&&o.f.password.errors),n.xp6(2),n.Q6J("disabled",o.loading),n.xp6(1),n.Q6J("ngIf",o.loading),n.xp6(1),n.hij(" ",n.lcZ(28,23,"SIGN UP")," "),n.xp6(3),n.Oqu(n.lcZ(31,25,"CANCEL")))},dependencies:[u.mk,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.rH,c.X$],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0;margin:0}.signup-form[_ngcontent-%COMP%]{border:1px solid #ccc;padding:20px;border-radius:5px;width:300px;box-sizing:border-box;background-color:#fff}.signup-form__header[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:700;margin-bottom:20px}.input-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}.input-field__input[_ngcontent-%COMP%]{border:1px solid #ccc;padding:5px;border-radius:3px}.error-text[_ngcontent-%COMP%]{color:red}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.actions__submit-button[_ngcontent-%COMP%]{background-color:#d77e48;color:#fff;padding:10px 20px;border-radius:5px;cursor:pointer}.actions__loading-spinner[_ngcontent-%COMP%]{display:inline-block;border:2px solid rgba(0,0,0,.5);border-left-color:#fff;height:24px;width:24px;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.actions__cancel-link[_ngcontent-%COMP%]{color:#d77e48;text-decoration:none}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(1turn)}}"]}),t})()}]}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[a.Bz.forChild(N),a.Bz]}),t})();var w=s(3339),J=s(2296),Y=s(5195),Q=s(4170),j=s(2032);let G=(()=>{class t{constructor(e){this.translate=e,this.translate.setDefaultLang("en")}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(c.sK))},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[u.ez,r.UX,U,w.q,J.ot,Y.QW,Q.lN,j.c]}),t})()}}]);